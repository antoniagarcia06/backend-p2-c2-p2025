{% extends 'agenda/base.html' %}

{% block title %}Lista de Contactos{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-6 text-gray-800">Lista de Contactos</h1>

<a href="{% url 'nuevo_contacto' %}" 
   class="bg-violet-500 hover:bg-purple-600 text-white font-semibold px-4 py-2 rounded shadow-md transition duration-200">
   Nuevo Contacto
</a>
<form method="get" class="mb-4 flex gap-2">
  <input type="text" name="q" placeholder="Buscar por nombre o correo" value="{{ query }}"
         class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
  <button type="submit" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded">
    Buscar
  </button>
</form>

<table class="min-w-full bg-white shadow-md rounded mt-4">
  <thead class="bg-blue-600 text-white">
    <tr>
      <th class="py-2 px-4 border-b">Nombre</th>
      <th class="py-2 px-4 border-b">Teléfono</th>
      <th class="py-2 px-4 border-b">Correo</th>
      <th class="py-2 px-4 border-b">Dirección</th>
      <th class="py-2 px-4 border-b">Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for contacto in contactos %}
    <tr class="hover:bg-gray-100">
      <td class="py-2 px-4 border-b">{{ contacto.nombre }}</td>
      <td class="py-2 px-4 border-b">{{ contacto.telefono }}</td>
      <td class="py-2 px-4 border-b">{{ contacto.correo }}</td>
      <td class="py-2 px-4 border-b">{{ contacto.direccion }}</td>
      <td class="py-2 px-4 border-b">
        <div class="flex gap-2">
          <a href="{% url 'editar_contacto' contacto.id %}" 
             class="bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded font-semibold transition duration-200">
             Editar
          </a>
          <a href="{% url 'eliminar_contacto' contacto.id %}" 
             class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded font-semibold transition duration-200">
             Eliminar
          </a>
        </div>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="5" class="py-4 text-center text-gray-500">No hay contactos registrados</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
